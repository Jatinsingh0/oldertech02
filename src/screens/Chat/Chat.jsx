// import React from 'react'
import { useNavigate } from "react-router-dom";
import "./chat.css";
import ChatBot from "react-simple-chatbot";
export default function Chat() {
  let navigate = useNavigate();
  function handleBack() {
    navigate(-1); // Goes back to the previous page
  }
  function reviewMessage(previousStep) {
    // You can include more sophisticated analysis or matching logic here
    // For now, we'll just check if the message includes the word 'details'
    if (previousStep.message.toLowerCase().includes("details")) {
      return "ask-for-details";
    }

    return "default-response";
  }

  const steps = [
    {
      id: "greeting",
      message: "Hello! What can I help you with?",
      trigger: "user-input",
    },
    {
      id: "user-input",
      user: true,
      // trigger: 'default-response',
      end: true,
    },

    {
      id: "default-response",
      message: "You can",
      end: true,
    },
    // ... other steps
  ];

  return (
    <>
      <div className="chat-header">
        <div className="back-btn" onClick={handleBack}>
          <i className="fa fa-chevron-left" aria-hidden="true"></i>
        </div>
        <div className="chat-title">
          <div style={{ marginTop: 19, marginBottom: 2, fontSize: 17 }}>
            ClicRecycle Support
          </div>
          <svg
            width="88"
            height="18"
            viewBox="0 0 88 18"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M14.42 14L18.032 4.2H19.278L22.876 14H21.63L20.734 11.48H16.562L15.652 14H14.42ZM16.912 10.528H20.384L18.648 5.684L16.912 10.528ZM27.2121 14.168C26.5494 14.168 25.9521 14.0187 25.4201 13.72C24.8974 13.412 24.4821 12.9873 24.1741 12.446C23.8754 11.8953 23.7261 11.256 23.7261 10.528C23.7261 9.8 23.8754 9.16533 24.1741 8.624C24.4821 8.07333 24.8974 7.64867 25.4201 7.35C25.9521 7.042 26.5494 6.888 27.2121 6.888C28.0334 6.888 28.7241 7.10267 29.2841 7.532C29.8534 7.96133 30.2127 8.53533 30.3621 9.254H29.1581C29.0647 8.82467 28.8361 8.49333 28.4721 8.26C28.1081 8.01733 27.6834 7.896 27.1981 7.896C26.8061 7.896 26.4374 7.994 26.0921 8.19C25.7467 8.386 25.4667 8.68 25.2521 9.072C25.0374 9.464 24.9301 9.94933 24.9301 10.528C24.9301 11.1067 25.0374 11.592 25.2521 11.984C25.4667 12.376 25.7467 12.6747 26.0921 12.88C26.4374 13.076 26.8061 13.174 27.1981 13.174C27.6834 13.174 28.1081 13.0573 28.4721 12.824C28.8361 12.5813 29.0647 12.2407 29.1581 11.802H30.3621C30.2221 12.502 29.8674 13.0713 29.2981 13.51C28.7287 13.9487 28.0334 14.168 27.2121 14.168ZM34.697 14C34.0624 14 33.563 13.846 33.199 13.538C32.835 13.23 32.653 12.6747 32.653 11.872V8.05H31.449V7.056H32.653L32.807 5.39H33.829V7.056H35.873V8.05H33.829V11.872C33.829 12.3107 33.9177 12.6093 34.095 12.768C34.2724 12.9173 34.585 12.992 35.033 12.992H35.761V14H34.697ZM38.2211 5.516C37.9878 5.516 37.7918 5.44133 37.6331 5.292C37.4838 5.13333 37.4091 4.93733 37.4091 4.704C37.4091 4.48 37.4838 4.29333 37.6331 4.144C37.7918 3.99467 37.9878 3.92 38.2211 3.92C38.4451 3.92 38.6364 3.99467 38.7951 4.144C38.9538 4.29333 39.0331 4.48 39.0331 4.704C39.0331 4.93733 38.9538 5.13333 38.7951 5.292C38.6364 5.44133 38.4451 5.516 38.2211 5.516ZM37.6331 14V7.056H38.8091V14H37.6331ZM42.9987 14L40.3667 7.056H41.5987L43.6847 12.866L45.7847 7.056H46.9887L44.3567 14H42.9987ZM51.204 14.168C50.5413 14.168 49.9533 14.0187 49.44 13.72C48.9267 13.412 48.5207 12.9873 48.222 12.446C47.9327 11.9047 47.788 11.2653 47.788 10.528C47.788 9.8 47.9327 9.16533 48.222 8.624C48.5113 8.07333 48.9127 7.64867 49.426 7.35C49.9487 7.042 50.5507 6.888 51.232 6.888C51.904 6.888 52.4827 7.042 52.968 7.35C53.4627 7.64867 53.8407 8.04533 54.102 8.54C54.3633 9.03467 54.494 9.56667 54.494 10.136C54.494 10.2387 54.4893 10.3413 54.48 10.444C54.48 10.5467 54.48 10.6633 54.48 10.794H48.95C48.978 11.326 49.0993 11.7693 49.314 12.124C49.538 12.4693 49.8133 12.7307 50.14 12.908C50.476 13.0853 50.8307 13.174 51.204 13.174C51.6893 13.174 52.0953 13.062 52.422 12.838C52.7487 12.614 52.9867 12.3107 53.136 11.928H54.298C54.1114 12.572 53.752 13.1087 53.22 13.538C52.6974 13.958 52.0254 14.168 51.204 14.168ZM51.204 7.882C50.644 7.882 50.1447 8.05467 49.706 8.4C49.2767 8.736 49.0293 9.23067 48.964 9.884H53.332C53.304 9.25867 53.0894 8.76867 52.688 8.414C52.2867 8.05933 51.792 7.882 51.204 7.882ZM60.1078 14V4.2H61.2838L66.5058 12.054V4.2H67.6818V14H66.5058L61.2838 6.146V14H60.1078ZM72.9941 14.168C72.3408 14.168 71.7528 14.0187 71.2301 13.72C70.7075 13.4213 70.2921 13.0013 69.9841 12.46C69.6855 11.9093 69.5361 11.2653 69.5361 10.528C69.5361 9.79067 69.6901 9.15133 69.9981 8.61C70.3061 8.05933 70.7215 7.63467 71.2441 7.336C71.7761 7.03733 72.3688 6.888 73.0221 6.888C73.6755 6.888 74.2635 7.03733 74.7861 7.336C75.3088 7.63467 75.7195 8.05933 76.0181 8.61C76.3261 9.15133 76.4801 9.79067 76.4801 10.528C76.4801 11.2653 76.3261 11.9093 76.0181 12.46C75.7101 13.0013 75.2901 13.4213 74.7581 13.72C74.2355 14.0187 73.6475 14.168 72.9941 14.168ZM72.9941 13.16C73.3955 13.16 73.7688 13.062 74.1141 12.866C74.4595 12.67 74.7395 12.376 74.9541 11.984C75.1688 11.592 75.2761 11.1067 75.2761 10.528C75.2761 9.94933 75.1688 9.464 74.9541 9.072C74.7488 8.68 74.4735 8.386 74.1281 8.19C73.7828 7.994 73.4141 7.896 73.0221 7.896C72.6208 7.896 72.2475 7.994 71.9021 8.19C71.5568 8.386 71.2768 8.68 71.0621 9.072C70.8475 9.464 70.7401 9.94933 70.7401 10.528C70.7401 11.1067 70.8475 11.592 71.0621 11.984C71.2768 12.376 71.5521 12.67 71.8881 12.866C72.2335 13.062 72.6021 13.16 72.9941 13.16ZM79.3955 14L77.3655 7.056H78.5415L80.0115 12.502L81.6355 7.056H82.9655L84.6035 12.502L86.0595 7.056H87.2495L85.2195 14H84.0155L82.3075 8.274L80.5995 14H79.3955Z"
              fill="white"
            />
            <circle cx="3" cy="10" r="3" fill="#80CB8E" />
          </svg>
        </div>
      </div>
      <div
        style={{
          position: "absolute",
          width: "98vw",
          marginTop: "26%",
          marginLeft: 4,
        }}
      >
        <ChatBot
          style={{ backgroundColor: "#fff" }}
          bubbleStyle={{
            backgroundColor: "#2f4541",
            fontFamily: "DM sans",
            color: "#fff",
          }}
          hideBotAvatar={true}
          hideHeader={true}
          steps={steps}
        />
      </div>
    </>
  );
}
